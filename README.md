# API для Yatube
---

### Описание
API для Yatube --- проект социальной сети, в которой можно:
- Публиковать и комментировать записи.
- Подписываться и отписываться от авторов.

### Технологии:
- Python 3.9.10
- Django 3.2
- Django REST framework
- JSON Web Token Authentication + Djoser

### Как запустить проект:
- Клонировать репозиторий и перейти в него в командной строке.
- Установите и активируйте виртуальное окружение c учетом версии Python
- Установить зависимости из файла requirements.txt
- Выполнить миграции

### Некоторые примеры запросов к API
Для неавторизованных пользователей:
~~~
GET api/v1/posts/  # получить список всех публикаций.

# в проекте реализована пагинаци:
GET /api/v1/posts/?limit=10&offset=0 - пагинация на 10 постов, начиная с первого

GET api/v1/posts/{id}/  # получение публикации по id

GET api/v1/groups/  # получение списка доступных сообществ
GET api/v1/groups/{id}/  # получение информации о сообществе по id
# Группы добавляются через интерфейс администратора

GET api/v1/{post_id}/comments/  # получение всех комментариев к публикации
GET api/v1/{post_id}/comments/{id}/ # Получение комментария к публикации по id
~~~

Для авторизованных пользователей:
~~~
POST /api/v1/posts/  # Добавление новой публикации
PUT /api/v1/posts/{id}/  # Обновление публикации по id
PATCH /api/v1/posts/{id}/  # Частичное обновление публикации по id
DEL /api/v1/posts/{id}/  # Удаление публикации по id

# Пример для POST, PUT, PATCH:
{
  "text": "string",
  "image": "string",
  "group": 0
}
~~~

Пользователи могут изменять, удалять контент, автором которого они являются.

Стать пользователем пожно отправив запрос:
~~~
POST api/v1/users/

# Передав в body данные:
{
"email": "your email",
"username": "your username",
"password": "your password"
}
~~~

Доступен к JWT-токену можно получить выполнив POST запрос по адресу:
~~~
POST /api/v1/jwt/create/

# Передав в body данные пользователя:
{
"username": "your username",
"password": "your password"
}
~~~

Воспользоваться токеном можно добавив его headers
~~~
Authorization: Bearer {your token}
~~~

Обновить JWT-токен:
~~~
POST /api/v1/jwt/refresh/
~~~

Проверить JWT-токен:
~~~
POST /api/v1/jwt/verify/
~~~